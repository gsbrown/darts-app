let PLAYER_COLORS=["bg-red-700/70","bg-blue-700/70","bg-green-700/70","bg-cyan-700/70","bg-purple-700/70","bg-pink-700/70","bg-teal-700/70","bg-orange-600/70"],ICON_LEADER_ATW="\uD83C\uDFAF",ICON_UNDO_ATW="↩️",ICON_RECORD_HIT_ATW="✔️",ICON_END_TURN_ATW="➡️",ICON_WINNER_ATW="\uD83C\uDFC6",AroundTheWorldGame=({gameMode:e,onGameEnd:t,socket:a,gameState:l,displayRole:m})=>{let s;if(!l||"object"!=typeof l||"AROUND_THE_WORLD"!==l.mode||!Array.isArray(l.participants))return console.error("AroundTheWorldGame: Invalid or incomplete gameState",l),React.createElement("div",{className:"p-10 text-center text-red-500 text-3xl sm:text-4xl"},"Loading ATW Game State or Invalid State...");if("controller"!==m&&l.gameOver&&l.winner)if("undefined"!=typeof GameOverScreen)return React.createElement(GameOverScreen,{winner:l.winner,onDismiss:()=>t(!1)});else return console.warn("GameOverScreen component not available to AroundTheWorldGame for main display."),React.createElement("div",{className:"p-8 text-center text-green-400 text-4xl font-sans"},`Game Over! Winner: ${l.winner.name}`);let{participants:n=[],currentPlayerIndex:x,currentPlayerTurnInTeam:r,showAroundTheWorldActionPrompt:o,showATWObjectiveSelectorModal:i,history:d,ATW_TARGET_QUALIFY_SB:c,ATW_TARGET_WIN_DB:g,ATW_LOGICAL_WIN_VIA_SB:u,ATW_LOGICAL_WIN_VIA_DB:p,ATW_OBJECTIVES_NUMBERS_MAX:y}=l,b=n[x],f=d&&Array.isArray(d)&&d.length>1&&!i,w=(e,t=!1)=>e>=1&&e<=y?String(e):e===c?"SB":e===g?"DB":e===u||e===p||t?ICON_WINNER_ATW:"N/A",h=(e,t)=>{if(!e||"string"!=typeof e.name)return"Unknown Player";let a=e.name;return"team"===e.type&&e.players&&"number"==typeof t&&e.players[t]&&(a+=` (${e.players[t]})`),a},T=l.ATW_MAX_SB_HITS_FOR_WIN||5,S=()=>{a&&b&&!b.atw_isWinner&&o&&o.participantIndex===x&&a.emit("aroundTheWorldClientRequestsObjectiveModal")},B=e=>{a&&b&&!b.atw_isWinner&&a.emit("aroundTheWorldTurnResult",{reportedValue:e})},E=()=>{a&&i&&a.emit("aroundTheWorldCancelObjectiveEntry")},R=()=>{a&&b&&!b.atw_isWinner&&a.emit("aroundTheWorldPlayerEndsTurn")},N=()=>{a&&f&&a.emit("undoLastAction")},z=n.length;s=z<=2?{cardPadding:"p-5 sm:p-6 md:p-8",playerNameSize:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl",teamMemberSize:"text-2xl sm:text-3xl md:text-4xl",sbHitsSize:"text-4xl sm:text-5xl md:text-5xl",targetIconSize:"text-7xl sm:text-8xl md:text-9xl",targetTextSize:"text-8xl sm:text-9xl md:text-[10rem] lg:text-[11rem]",lastActionSize:"text-xl sm:text-2xl md:text-3xl",segmentFontSize:"text-2xl sm:text-3xl md:text-3xl",segmentSizeClasses:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20",progressTrackGap:"gap-2 sm:gap-2.5",actionButtonsColumnWidth:"w-48 sm:w-60 md:w-72",actionButtonColumnGap:"space-y-2 sm:space-y-2.5",aimingForSize:"text-2xl sm:text-3xl md:text-4xl",recordHitButtonPY:"py-3 sm:py-4 md:py-5",recordHitButtonText:"text-xl sm:text-2xl md:text-3xl",endTurnButtonPY:"py-3 sm:py-4 md:py-5",endTurnButtonText:"text-xl sm:text-2xl md:text-3xl",undoEndGameButtonPY:"py-2 sm:py-3 md:py-3.5",undoEndGameButtonText:"text-lg sm:text-xl md:text-2xl",undoEndGameIconSize:"text-lg sm:text-xl md:text-2xl",modalTitleSize:"text-3xl sm:text-4xl md:text-5xl",modalButtonPY:"py-4 sm:py-5 md:py-6",modalButtonText:"text-2xl sm:text-3xl md:text-4xl",modalBottomButtonPY:"py-3 sm:py-4 md:py-5",modalBottomButtonText:"text-xl sm:text-2xl md:text-3xl",gapBetweenCards:"gap-4 sm:gap-5 md:gap-6",mainTitleIconSize:"text-3xl sm:text-4xl md:text-5xl",mainTitleTextSize:"text-4xl sm:text-5xl md:text-6xl",mainTitleMarginBottom:"mb-2 sm:mb-3 md:mb-4"}:z<=4?{cardPadding:"p-4 sm:p-5 md:p-6",playerNameSize:"text-3xl sm:text-4xl md:text-5xl",teamMemberSize:"text-xl sm:text-2xl md:text-3xl",sbHitsSize:"text-3xl sm:text-4xl md:text-4xl",targetIconSize:"text-6xl sm:text-7xl md:text-8xl",targetTextSize:"text-7xl sm:text-8xl md:text-9xl",lastActionSize:"text-lg sm:text-xl md:text-2xl",segmentFontSize:"text-xl sm:text-2xl md:text-2xl",segmentSizeClasses:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",progressTrackGap:"gap-1.5 sm:gap-2",actionButtonsColumnWidth:"w-44 sm:w-52 md:w-60",actionButtonColumnGap:"space-y-1.5 sm:space-y-2",aimingForSize:"text-xl sm:text-2xl md:text-3xl",recordHitButtonPY:"py-2.5 sm:py-3 md:py-4",recordHitButtonText:"text-lg sm:text-xl md:text-2xl",endTurnButtonPY:"py-2.5 sm:py-3 md:py-4",endTurnButtonText:"text-lg sm:text-xl md:text-2xl",undoEndGameButtonPY:"py-2 sm:py-2.5 md:py-3",undoEndGameButtonText:"text-base sm:text-lg md:text-xl",undoEndGameIconSize:"text-base sm:text-lg md:text-xl",modalTitleSize:"text-2xl sm:text-3xl md:text-4xl",modalButtonPY:"py-3.5 sm:py-4.5 md:py-5.5",modalButtonText:"text-xl sm:text-2xl md:text-3xl",modalBottomButtonPY:"py-3 sm:py-3.5 md:py-4.5",modalBottomButtonText:"text-lg sm:text-xl md:text-2xl",gapBetweenCards:"gap-3 sm:gap-4 md:gap-5",mainTitleIconSize:"text-2xl sm:text-3xl md:text-4xl",mainTitleTextSize:"text-3xl sm:text-4xl md:text-5xl",mainTitleMarginBottom:"mb-1 sm:mb-2 md:mb-3"}:z<=6?{cardPadding:"p-3 sm:p-4 md:p-5",playerNameSize:"text-2xl sm:text-3xl md:text-4xl",teamMemberSize:"text-lg sm:text-xl md:text-2xl",sbHitsSize:"text-2xl sm:text-3xl md:text-3xl",targetIconSize:"text-5xl sm:text-6xl md:text-7xl",targetTextSize:"text-6xl sm:text-7xl md:text-8xl",lastActionSize:"text-base sm:text-lg md:text-xl",segmentFontSize:"text-base sm:text-lg md:text-xl",segmentSizeClasses:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14",progressTrackGap:"gap-1 sm:gap-1.5",actionButtonsColumnWidth:"w-40 sm:w-48 md:w-52",actionButtonColumnGap:"space-y-1 sm:space-y-1.5",aimingForSize:"text-lg sm:text-xl md:text-2xl",recordHitButtonPY:"py-2 sm:py-2.5 md:py-3",recordHitButtonText:"text-base sm:text-lg md:text-xl",endTurnButtonPY:"py-2 sm:py-2.5 md:py-3",endTurnButtonText:"text-base sm:text-lg md:text-xl",undoEndGameButtonPY:"py-1.5 sm:py-2 md:py-2.5",undoEndGameButtonText:"text-sm sm:text-base md:text-lg",undoEndGameIconSize:"text-sm sm:text-base md:text-lg",modalTitleSize:"text-xl sm:text-2xl md:text-3xl",modalButtonPY:"py-3 sm:py-4",modalButtonText:"text-lg sm:text-xl md:text-2xl",modalBottomButtonPY:"py-2.5 sm:py-3",modalBottomButtonText:"text-base sm:text-lg md:text-xl",gapBetweenCards:"gap-2 sm:gap-3 md:gap-4",mainTitleIconSize:"text-xl sm:text-2xl md:text-3xl",mainTitleTextSize:"text-2xl sm:text-3xl md:text-4xl",mainTitleMarginBottom:"mb-1 sm:mb-1.5 md:mb-2"}:{cardPadding:"p-2 sm:p-2.5",playerNameSize:"text-lg sm:text-xl md:text-2xl",teamMemberSize:"text-sm sm:text-base md:text-lg",sbHitsSize:"text-xl sm:text-2xl md:text-2xl",targetIconSize:"text-3xl sm:text-4xl md:text-5xl",targetTextSize:"text-4xl sm:text-5xl md:text-6xl",lastActionSize:"text-xs sm:text-sm md:text-base",segmentFontSize:"text-xs sm:text-sm md:text-base",segmentSizeClasses:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8",progressTrackGap:"gap-0.5",actionButtonsColumnWidth:"w-32 sm:w-36 md:w-40",actionButtonColumnGap:"space-y-0.5 sm:space-y-1",aimingForSize:"text-sm sm:text-base md:text-lg",recordHitButtonPY:"py-1 sm:py-1.5 md:py-2",recordHitButtonText:"text-xs sm:text-sm md:text-base",endTurnButtonPY:"py-1 sm:py-1.5 md:py-2",endTurnButtonText:"text-xs sm:text-sm md:text-base",undoEndGameButtonPY:"py-0.5 sm:py-1 md:py-1.5",undoEndGameButtonText:"text-xs sm:text-sm",undoEndGameIconSize:"text-xs sm:text-sm",modalTitleSize:"text-lg sm:text-xl",modalButtonPY:"py-2 sm:py-2.5",modalButtonText:"text-base sm:text-lg",modalBottomButtonPY:"py-1.5 sm:py-2",modalBottomButtonText:"text-sm sm:text-base",gapBetweenCards:"gap-1 sm:gap-1.5 md:gap-2",mainTitleIconSize:"text-lg sm:text-xl md:text-2xl",mainTitleTextSize:"text-xl sm:text-2xl md:text-3xl",mainTitleMarginBottom:"mb-0.5 sm:mb-1 md:mb-1.5"};let C=({onSelect:e,onCancel:t,currentTargetValueForDisplay:a})=>{let l=[];for(let e=1;e<=y;e++)l.push({display:String(e),valueToSend:e});l.push({display:"SB",valueToSend:25}),l.push({display:"DB",valueToSend:50});let n="controller"===m?{titleSize:"text-xl font-bold mb-2 game-title-font text-yellow-300 text-center",objectiveButtonClasses:"py-3.5 px-2 text-xl",bottomButtonClasses:"py-3 px-4 text-lg",gridContainerClasses:"grid grid-cols-4 gap-2",padding:"p-3",maxWidth:"max-w-xs sm:max-w-sm"}:{titleSize:`${s.modalTitleSize} font-bold mb-4 sm:mb-6 game-title-font text-yellow-300 text-center`,objectiveButtonClasses:`${s.modalButtonPY} ${s.modalButtonText} px-1 sm:px-2`,bottomButtonClasses:`${s.modalBottomButtonPY} ${s.modalBottomButtonText} px-4 sm:px-6`,gridContainerClasses:"grid grid-cols-4 sm:grid-cols-5 gap-2",padding:s.cardPadding,maxWidth:"max-w-md sm:max-w-lg"};return React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-2"},React.createElement("div",{className:`bg-gray-800 ${n.padding} rounded-xl shadow-2xl w-full ${n.maxWidth} max-h-[90vh] overflow-y-auto flex flex-col`},React.createElement("h3",{className:n.titleSize},`Report Hit (Aiming: ${w(a)})`),React.createElement("div",{className:`${n.gridContainerClasses} mb-3 flex-grow`},l.map(t=>{let a=`text-white font-bold ${n.objectiveButtonClasses} rounded-md transition-all duration-150 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 flex items-center justify-center`;return"SB"===t.display?a+=" bg-amber-500 hover:bg-amber-600 text-black focus:ring-amber-400":"DB"===t.display?a+=" bg-rose-500 hover:bg-rose-600 focus:ring-rose-400":a+=" bg-sky-600 hover:bg-sky-700 focus:ring-sky-400",React.createElement("button",{key:t.valueToSend,onClick:()=>e(t.valueToSend),className:a},t.display)})),React.createElement("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-auto pt-3 border-t border-gray-700 space-y-2 sm:space-y-0 sm:space-x-2"},React.createElement("button",{onClick:()=>e(0),className:`w-full sm:w-auto bg-red-700 hover:bg-red-800 text-white font-semibold ${n.bottomButtonClasses} rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-red-500`},"Missed Target"),React.createElement("button",{onClick:t,className:`w-full sm:w-auto bg-gray-600 hover:bg-gray-700 text-white font-semibold ${n.bottomButtonClasses} rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400`},"Cancel"))))},$=!!i&&i.participantIndex===x&&b&&!b.atw_isWinner;return"controller"===m?(()=>{let e="w-32 h-32 text-lg font-bold rounded-lg shadow-md my-2 transition-transform hover:scale-105 active:scale-95 flex items-center justify-center text-center leading-tight",t="text-base text-center text-slate-300 mb-1",a="text-6xl font-black text-sky-300 my-2 text-center",l=`${e} bg-yellow-500 hover:bg-yellow-600 text-black`;if(!b)return React.createElement("div",{className:"flex items-center justify-center h-full p-4 bg-slate-800 rounded-lg"},React.createElement("p",{className:t},"Waiting for player data..."));let m=h(b,r),s=w(b.atw_currentTargetValue,b.atw_isWinner),n=!0===b.atw_isWinner,d=!n&&o&&o.participantIndex===x&&!$;return React.createElement("div",{className:"flex flex-col items-center justify-around h-full p-3 space-y-3 bg-slate-800 rounded-lg"},React.createElement("div",{className:"text-center w-full"},React.createElement("h3",{className:"text-xl game-title-font text-yellow-300 font-semibold text-center mb-1 leading-tight"},`Turn: ${m}`),n?React.createElement("p",{className:`${a} text-emerald-400 animate-pulse`},ICON_WINNER_ATW):React.createElement("p",{className:a},s),b.atw_has_hit_sb_this_game&&!n&&React.createElement("p",{className:`${t} text-orange-300`},"\uD83D\uDD25 SB Qualified! Aim for DB!")),React.createElement("div",{className:"w-full max-w-xs space-y-3 flex flex-col items-center"},d&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:S,className:"w-36 h-36 text-xl sm:text-2xl font-bold rounded-lg shadow-md my-2 transition-transform hover:scale-105 active:scale-95 flex items-center justify-center text-center leading-tight bg-teal-500 hover:bg-teal-600 text-white"},"✔️ Record Hit"),React.createElement("button",{onClick:R,className:`${e} bg-slate-600 hover:bg-slate-700 text-white`},"➡️ End Turn")),f&&React.createElement("button",{onClick:N,className:l},"↩️ Undo")),$&&React.createElement(C,{onSelect:B,onCancel:E,currentTargetValueForDisplay:i.currentTargetValue}))})():(()=>{let e=`atw-progress-segment rounded-full text-center font-bold inline-flex items-center justify-center transition-all duration-300 ease-in-out leading-none ${s.segmentFontSize} ${s.segmentSizeClasses}`;return React.createElement("div",{className:"around-the-world-game-area w-full px-0.5 sm:px-1 py-1 flex flex-col h-full bg-slate-900 text-slate-100"},React.createElement("h2",{className:`flex items-center justify-center font-bold game-title-font text-yellow-300 text-center ${s.mainTitleMarginBottom}`},React.createElement("span",{className:`${s.mainTitleIconSize} mr-1 sm:mr-2`},"\uD83C\uDF0D"),React.createElement("span",{className:s.mainTitleTextSize},"ATW"),React.createElement("span",{className:`${s.mainTitleIconSize} ml-1 sm:ml-2`},"\uD83C\uDFAF")),React.createElement("div",{className:`flex flex-col flex-grow min-h-0 overflow-y-auto custom-scrollbar ${s.gapBetweenCards}`},n.map((t,a)=>{if(!t||"object"!=typeof t)return null;let l=a===x,m=w(t.atw_currentTargetValue,t.atw_isWinner),n=!0===t.atw_isWinner,o=Array.isArray(t.atw_hitsLog)?t.atw_hitsLog:[],i=t.atw_sb_hit_count||0,d=!0===t.atw_has_hit_sb_this_game,p=PLAYER_COLORS[a%PLAYER_COLORS.length],b="text-white";l&&!$&&(p="bg-indigo-600"),n&&(p="bg-emerald-600");let f=PLAYER_COLORS[a%PLAYER_COLORS.length];!l&&!n&&(f.includes("yellow")||f.includes("pink")||f.includes("orange"))&&(b="text-black");let S="ring-1 ring-gray-700",B="transform scale-100",E="shadow-lg";n?(S="ring-2 sm:ring-4 ring-emerald-400",E="shadow-2xl shadow-emerald-500/50"):l&&!$&&(S="ring-2 sm:ring-4 ring-yellow-400",E="shadow-xl sm:shadow-2xl shadow-yellow-500/50",B="transform scale-100 sm:scale-102");let R=`atw-player-card ${p} ${S} ${B} ${E} rounded-lg sm:rounded-xl flex flex-col justify-between transition-all duration-300 ease-in-out overflow-hidden ${s.cardPadding}`,N=o.length>0?o[o.length-1].display||"N/A":"None",z=a=>{let l=t.atw_currentTargetValue,m=!n&&l===a,s="",x=m?"animate-pulse":"";if(n){let e=g;(l===u||l===c)&&(e=c),s=a<=e?`bg-emerald-500 text-white font-extrabold shadow-lg ring-1 ring-emerald-300 ${x}`:"bg-gray-800 text-gray-600 opacity-50 shadow-inner"}else d?a>=1&&a<=y?s="bg-teal-500 text-white font-bold shadow-md":a===c?s="bg-amber-400 text-black font-extrabold ring-2 ring-amber-200 scale-110 shadow-xl animate-bounce":a===g&&(s=m?`bg-rose-500 text-white ring-2 ring-rose-300 scale-110 transform shadow-xl font-bold ${x}`:"bg-rose-700 hover:bg-rose-600 text-white font-semibold shadow-md"):s=m?`bg-sky-500 text-white ring-2 ring-sky-300 scale-110 transform shadow-xl font-bold ${x}`:a<l&&a<=y?"bg-lime-500 text-white font-semibold shadow-md":"bg-slate-600 text-slate-300 opacity-80 shadow-inner";return`${e} ${s}`};return React.createElement("div",{key:t.id||a,className:R},React.createElement("div",{className:"flex flex-row justify-between items-start w-full mb-0.5 sm:mb-1"},React.createElement("div",{className:"flex-grow pr-1 flex flex-col items-start"},React.createElement("div",{className:`atw-player-name truncate font-bold ${b} ${s.playerNameSize} flex items-center`,style:{lineHeight:"1.1"}},h(t,"team"===t.type?r:void 0),d&&!n&&React.createElement("span",{className:`ml-1 sm:ml-2 text-orange-300 ${s.teamMemberSize} font-semibold`},"\uD83D\uDD25 Qualified")),"team"===t.type&&Array.isArray(t.players)&&l&&React.createElement("span",{className:`block ${b} opacity-80 ${s.teamMemberSize} mt-0 leading-tight`},`(${t.players[r]||`P${r+1}`})`),React.createElement("div",{className:`${b} opacity-80 ${s.sbHitsSize} mt-0 flex items-center`},React.createElement("span",{className:"mr-1 text-sm sm:text-base md:text-lg self-center leading-none"},"SB Hits:"),(()=>{let e=[];for(let a=0;a<T;a++){let l=i>a,m=l?"text-yellow-400 animate-bounce":"text-gray-600 opacity-70",n=l?"★":"☆";e.push(React.createElement("span",{key:`sb-hit-${t.id}-${a}`,className:`mx-0.5 ${m} leading-none`,style:{fontSize:s.sbHitsSize}},n))}return e})()),React.createElement("div",{className:`${b} opacity-80 font-medium ${s.lastActionSize} mt-0 leading-tight`},React.createElement("p",{className:"truncate"},React.createElement("span",{className:"font-bold"},"Last: "),N))),React.createElement("div",{className:"flex-shrink-0 ml-1 flex flex-row items-start"},React.createElement("div",{className:`flex items-center text-right ${b} ${s.targetTextSize} w-full justify-end`,style:{lineHeight:"1"}},React.createElement("span",{className:`mr-1 sm:mr-2 ${s.targetIconSize}`},"\uD83C\uDFAF"),` ${m}`))),React.createElement("div",{className:`atw-progress-track my-1 sm:my-1.5 flex flex-wrap items-center justify-center bg-slate-900/50 p-1.5 sm:p-2 md:p-2.5 rounded-md shadow-inner ${s.progressTrackGap}`},[...Array(y)].map((e,a)=>React.createElement("span",{key:`prog-${t.id}-${a+1}`,className:`${z(a+1)}`},a+1)),React.createElement("span",{key:`prog-${t.id}-sb`,className:`${z(c)}`},"SB"),React.createElement("span",{key:`prog-${t.id}-db`,className:`${z(g)}`},"DB")))})),$&&b&&React.createElement(C,{onSelect:B,onCancel:E,currentTargetValueForDisplay:i.currentTargetValue}))})()};
//# sourceMappingURL=DartDisplayV2.e62a9f75.js.map
